(function(){"use strict";var e={2318:function(e,o,i){var r=i(9242),t=i(3396);const a={class:"flex flex-col h-screen justify-between font-Roboto text-gray-200"};function s(e,o,i,r,s,n){const d=(0,t.up)("UserHeader"),l=(0,t.up)("SiteNavigation"),c=(0,t.up)("RouterView"),p=(0,t.up)("UserNavigation"),g=(0,t.up)("AdminNavigation"),u=(0,t.up)("FooterHome");return(0,t.wg)(),(0,t.iD)("div",a,[s.userIsLogged||s.adminIsLogged?((0,t.wg)(),(0,t.j4)(d,{key:0,onLogout:n.userLogOut},null,8,["onLogout"])):(0,t.kq)("",!0),s.userIsLogged||s.adminIsLogged?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:1,onLoggedInUser:n.userLogged},null,8,["onLoggedInUser"])),(0,t.Wm)(c,{onLoggedInUser:n.userLogged,onLoggedInAdmin:n.adminLogged},null,8,["onLoggedInUser","onLoggedInAdmin"]),s.userIsLogged?((0,t.wg)(),(0,t.j4)(p,{key:2,userid:s.userid},null,8,["userid"])):(0,t.kq)("",!0),s.adminIsLogged?((0,t.wg)(),(0,t.j4)(g,{key:3,userid:s.userid},null,8,["userid"])):(0,t.kq)("",!0),s.userIsLogged||s.adminIsLogged?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:4}))])}var n=i(2483),d=i.p+"img/ecogroup-icon.65e76058.png";const l={class:"sticky top-0 z-20 shadow-md bg-site-primary bg-opacity-80 backdrop-blur-lg border-b-green-700 border-b rounded-b-lg mx-1 h-fit"},c={class:"container flex items-center w-full py-2 justify-between"},p={class:"flex items-center gap-2 font-Inter"},g=(0,t._)("img",{src:d,class:"h-12 w-12",alt:"ecogroup logo"},null,-1),u=(0,t._)("i",{class:"fa-solid fa-user"},null,-1);function m(e,o,i,r,a,s){const n=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("header",l,[(0,t._)("nav",c,[(0,t._)("div",p,[g,(0,t.Wm)(n,{class:"self-center text-2xl font-semibold whitespace-nowrap",to:"/"},{default:(0,t.w5)((()=>[(0,t.Uk)("Eco Group")])),_:1})]),(0,t.Wm)(n,{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary shadow-md",to:"/login"},{default:(0,t.w5)((()=>[u,(0,t.Uk)(" Log in")])),_:1})])])}var b={},h=i(89);const w=(0,h.Z)(b,[["render",m]]);var f=w;const y={class:"rounded-t-lg bg-opacity-70 shadow-md bg-site-primary border-t border-green-600 mx-1 z-50 h-fit"},x={class:"w-full max-w-screen-xl mx-auto p-4 md:py-8"},v={class:"sm:flex sm:items-center sm:justify-between"},k=(0,t._)("img",{src:d,class:"h-8",alt:"Eco Group Logo"},null,-1),D=(0,t._)("span",{class:"self-center text-2xl font-semibold whitespace-nowrap"},"Eco Group",-1),_=(0,t._)("ul",{class:"flex flex-wrap items-center mb-6 text-sm font-medium sm:mb-0"},[(0,t._)("li",null,[(0,t._)("a",{href:"#",class:"hover:underline me-4 md:me-6"},"Privacy Policy")]),(0,t._)("li",null,[(0,t._)("a",{href:"#",class:"hover:underline"},"Contact")])],-1);function z(e,o,i,r,a,s){const n=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)("footer",y,[(0,t._)("div",x,[(0,t._)("div",v,[(0,t.Wm)(n,{to:"/",class:"flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse"},{default:(0,t.w5)((()=>[k,D])),_:1}),_])])])}var C={setup(){return{}}};const I=(0,h.Z)(C,[["render",z]]);var A=I;const q={class:"sticky top-0 z-20 shadow-md bg-site-primary bg-opacity-80 backdrop-blur-lg border-b-green-700 border-b rounded-b-lg mx-1"},F={class:"container flex items-center w-full py-2 justify-between"},S={class:"flex items-center gap-2 font-Inter mx-auto"},P=(0,t._)("img",{src:d,class:"h-12 w-12",alt:"ecogroup logo"},null,-1),Q=(0,t._)("i",{class:"fa-solid fa-right-from-bracket"},null,-1);function R(e,o,i,r,a,s){const n=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("header",q,[(0,t._)("nav",F,[(0,t._)("div",S,[P,(0,t.Wm)(n,{class:"self-center text-2xl font-semibold whitespace-nowrap",to:"/",onClick:o[0]||(o[0]=e=>s.logout())},{default:(0,t.w5)((()=>[(0,t.Uk)("Eco Group")])),_:1})]),(0,t.Wm)(n,{class:"relative shadow-md justify-end border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary",to:"/",onClick:o[1]||(o[1]=e=>s.logout())},{default:(0,t.w5)((()=>[Q,(0,t.Uk)("Log out")])),_:1})])])}var E=i(1076),L={methods:{logout(){E.Z.get("http://localhost/api/api-logout.php").then(this.$emit("logout")).catch((e=>{console.error(e)}))}}};const O=(0,h.Z)(L,[["render",R]]);var Z=O;const U={class:"rounded-t-lg bg-opacity-70 shadow-md bg-site-primary border-t border-green-600 mx-1 pt-5 pb-3"},V={class:"flex justify-center gap-3 md:gap-10 text-center w-full mx-auto"},j=(0,t._)("i",{class:"fa-solid fa-clipboard-check"},null,-1),T=(0,t._)("span",{class:"self-center text-xl whitespace-nowrap"},"Questionari svolti",-1),N=(0,t._)("i",{class:"fa-solid fa-clipboard-question"},null,-1),M=(0,t._)("span",{class:"self-center text-xl whitespace-nowrap"},"Nuovo questionario",-1);function H(e,o,i,r,a,s){const n=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)("nav",U,[(0,t._)("div",V,[(0,t.Wm)(n,{to:{name:"Questionari",params:{userid:this.userid}},class:"flex items-center mb-4 space-x-3 shadow-md rtl:space-x-reverse bg-black bg-opacity-20 rounded-lg p-2 px-5 hover:bg-opacity-30 border border-site-primary"},{default:(0,t.w5)((()=>[j,T])),_:1},8,["to"]),(0,t.Wm)(n,{to:{name:"QuestionarioObbligatorio",params:{userid:this.userid}},class:"flex items-center mb-4 space-x-3 shadow-md rtl:space-x-reverse bg-black bg-opacity-20 rounded-lg p-2 px-5 hover:bg-opacity-30 border border-site-primary"},{default:(0,t.w5)((()=>[N,M])),_:1},8,["to"])])])}var K={props:["userid"]};const Y=(0,h.Z)(K,[["render",H]]);var W=Y;const G={class:"rounded-t-lg bg-opacity-70 shadow-md bg-site-primary border-t border-green-600 mx-1 pt-5 pb-3 z-10"},$={class:"flex justify-center gap-3 md:gap-10 text-center w-full mx-auto"},B=(0,t._)("i",{class:"fa-solid fa-chart-pie"},null,-1),J=(0,t._)("span",{class:"self-center text-xl whitespace-nowrap"},"Statistiche",-1),X=(0,t._)("i",{class:"fa-solid fa-hammer"},null,-1),ee=(0,t._)("span",{class:"self-center text-xl whitespace-nowrap"},"Admin",-1),oe=(0,t._)("i",{class:"fa-solid fa-clipboard-question"},null,-1),ie=(0,t._)("span",{class:"self-center text-xl whitespace-nowrap"},"domande",-1),re=(0,t._)("i",{class:"fa-solid fa-book"},null,-1),te=(0,t._)("span",{class:"self-center text-xl whitespace-nowrap"},"Questionari",-1);function ae(e,o,i,r,a,s){const n=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)("nav",G,[(0,t._)("div",$,[(0,t.Wm)(n,{to:{name:"AdminLogged",params:{userid:this.userid}},class:"flex items-center mb-4 space-x-3 shadow-md rtl:space-x-reverse bg-black bg-opacity-20 rounded-lg p-2 px-5 hover:bg-opacity-30 border border-site-primary"},{default:(0,t.w5)((()=>[B,J])),_:1},8,["to"]),(0,t.Wm)(n,{to:{name:"AdminOperations",params:{userid:this.userid}},class:"flex items-center mb-4 space-x-3 shadow-md rtl:space-x-reverse bg-black bg-opacity-20 rounded-lg p-2 px-5 hover:bg-opacity-30 border border-site-primary"},{default:(0,t.w5)((()=>[X,ee])),_:1},8,["to"]),(0,t.Wm)(n,{to:{name:"AdminQuestions",params:{userid:this.userid}},class:"flex items-center mb-4 space-x-3 shadow-md rtl:space-x-reverse bg-black bg-opacity-20 rounded-lg p-2 px-5 hover:bg-opacity-30 border border-site-primary"},{default:(0,t.w5)((()=>[oe,ie])),_:1},8,["to"]),(0,t.Wm)(n,{to:{name:"AdminSurveys",params:{userid:this.userid}},class:"flex items-center mb-4 space-x-3 shadow-md rtl:space-x-reverse bg-black bg-opacity-20 rounded-lg p-2 px-5 hover:bg-opacity-30 border border-site-primary"},{default:(0,t.w5)((()=>[re,te])),_:1},8,["to"])])])}var se={props:["userid"]};const ne=(0,h.Z)(se,[["render",ae]]);var de=ne,le={components:{RouterView:n.MA,SiteNavigation:f,FooterHome:A,UserHeader:Z,UserNavigation:W,AdminNavigation:de},data(){return{userIsLogged:!1,adminIsLogged:!1,userid:""}},methods:{userLogged(e){this.userIsLogged=!0,this.userid=e},adminLogged(e){this.userid=e,this.adminIsLogged=!0},userLogOut(){this.userIsLogged=!1,this.adminIsLogged=!1}},mounted(){}};const ce=(0,h.Z)(le,[["render",s]]);var pe=ce;const ge={class:"grid grid-cols-1 gap-3 px-16 py-3 text-center lg:grid-cols-3"},ue=(0,t.uE)('<div class="lg:col-span-3 col-span-1 bg-site-primary bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>L&#39;obiettivo di questa Checklist è valutare l&#39;adozione da parte dell&#39;azienda di principi Green, Lean, Agile e Resilient (LARG) e le potenzialità aziendali di far parte di una ISN (Industrial Symbiosis Network). Le reti di simbiosi industriale (ISN) stanno emergendo come opzioni sostenibili per consentire la cooperazione tra più catene di approvvigionamento e per ottimizzare l&#39;uso di risorse materiali ed energetiche all&#39;interno di un&#39;area geografica. La Checklist proposta analizza diverse aree tematiche (Green, Lean, Agile, Resilient, Maturità aziendale, Risorse Input-Output) tramite domande in forma qualitativa e a risposta guidata. Il risultato della Checklist è un punteggio che dà una visione d&#39;insieme dell&#39;azienda riguardo questi principi, considerandoli sia singolarmente che adeguatamente integrati. I dati vengono raccolti per scopo di ricerca e saranno trattati mantenendo la riservatezza di essi tramite analisi aggregate.</p></div><div class="bg-site-primary bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>Dopo aver cliccato il tasto sulla destra &quot;INIZIO CHECKLIST&quot;, comparirà un nuovo foglio di lavoro chiamato &quot;DATI AZIENDA&quot;, dove vi sarà richiesto di compilare i dati anagrafici della vostra azienda.</p></div><div class="bg-site-primary bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>Compilate ogni campo richiesto del foglio &quot;DATI AZIENDA&quot;.</p></div><div class="bg-site-primary bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>Una volta effettuata la compilazione, cliccate sul bottone &quot;INVIA DATI AZIENDA&quot;. ATTENZIONE: non è possibile modificare i dati una volta cliccato il bottone. Comparirà un nuovo foglio denominato &quot;CHECKLIST&quot; che sarà suddiviso nelle cinque macro-aree sopra descritte. Per ogni domanda c&#39;è un menù a tendina che suggerisce le risposte possibili.</p></div><div class="bg-site-primary bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>Compilate TUTTI i campi per poter procedere all&#39;invio dei dati e all&#39;elaborazione del risultato. Cliccare sul bottone &quot;CALCOLA PUNTEGGIO&quot; per procedere. Dopo il click compariranno contemporaneamente: (1) un nuovo foglio chiamato &quot;REPORT FINALE&quot;, (2) una e-mail indirizzata agli organizzatori per poter ricevere i vostri risultati ed elaborarli.</p></div><div class="bg-site-primary bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>Il foglio denominato &quot;REPORT FINALE&quot; è strutturato nelle stesse macro-aree della Checklist, dettagliandone le metriche valutate. Per ognuna delle aree comparirà un punteggio parziale, mentre in fondo saranno presenti i punteggi totali (LARG e Simbiosi Industriale) della checklist.</p></div><div class="bg-site-primary bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-4 rounded-lg"><p>I punteggi ottenuti sono calcolati sulla base delle risposte fornite nella checklist e di pesi ad esse associate stabiliti in precedenza. I punteggi possono variare da 0 a 100, dove 0 sta per una scarsa propensione ad adottare pratiche LARG e di simbiosi industriale, mentre 100 sta per una estrema propensione. ATTENZIONE: i punteggi danno un&#39;indicazione su potenziali aree di miglioramento e si devono considerare come uno spunto per azioni future.</p></div>',7);function me(e,o,i,r,a,s){const n=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",ge,[ue,(0,t.Wm)(n,{to:"/sign-in",class:"lg:col-start-2 bg-green-600 bg-opacity-60 backdrop-blur-md drop-shadow-lg p-4 rounded-lg hover:bg-green-800 transition ease-out hover:delay-100"},{default:(0,t.w5)((()=>[(0,t.Uk)("INIZIO")])),_:1})])}var be={};const he=(0,h.Z)(be,[["render",me]]);var we=he,fe=i(7139);const ye={class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg w-1/3 mx-auto"},xe=(0,t._)("label",{for:"email"},"Email:",-1),ve=(0,t._)("label",{for:"password"},"Password:",-1),ke=(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary",type:"submit",value:"invia"},null,-1),De={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},_e={key:0};function ze(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",ye,[(0,t._)("form",{onSubmit:o[3]||(o[3]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"])),class:"flex flex-col justify-between gap-2"},[xe,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"email",name:"email","onUpdate:modelValue":o[0]||(o[0]=e=>s.email=e)},null,512),[[r.nr,s.email]]),ve,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"password",name:"password","onUpdate:modelValue":o[1]||(o[1]=e=>s.password=e)},null,512),[[r.nr,s.password]]),(0,t._)("button",{onClick:o[2]||(o[2]=(...e)=>n.mandamail&&n.mandamail(...e))},"Hai dimenticato la password?"),ke,s.erroreForm?((0,t.wg)(),(0,t.iD)("div",De,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",_e,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],32)])}i(560);var Ce={data(){return{email:"",password:"",id:"",erroreForm:"",formOk:!0}},methods:{mandamail(){},submitForm(){const e=new FormData;e.append("email",this.email),e.append("password",this.password),this.formOk&&E.Z.post("http://localhost/www/api/api-user-login.php",e).then((e=>{""==e.data.error?"moderator"==e.data.usertype?(this.$emit("LoggedInAdmin",e.data.userid),this.$router.push({name:"AdminLogged",params:{userid:e.data.userid}})):(this.$emit("loggedInUser",e.data.userid),this.$router.push({name:"LoggedIn",params:{userid:e.data.userid}})):this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}}};const Ie=(0,h.Z)(Ce,[["render",ze]]);var Ae=Ie;const qe={class:"flex flex-col mx-auto md:flex-row justify-center gap-4 my-2 w-3/4"},Fe={key:0,class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg"},Se=(0,t._)("p",{class:"w-auto md:w-96"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus, minus aliquid magni est debitis velit necessitatibus commodi deleniti mollitia illum ipsum, vero dolorem libero. Commodi natus culpa ex aliquam dolorem? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus, minus aliquid magni est debitis velit necessitatibus commodi deleniti mollitia illum ipsum, vero dolorem libero. Commodi natus culpa ex aliquam dolorem? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus, minus aliquid magni est debitis velit necessitatibus commodi deleniti mollitia illum ipsum, vero dolorem libero. Commodi natus culpa ex aliquam dolorem? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus, minus aliquid magni est debitis velit necessitatibus commodi deleniti mollitia illum ipsum, vero dolorem libero. Commodi natus culpa ex aliquam dolorem? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus, minus aliquid magni est debitis velit necessitatibus commodi deleniti mollitia illum ipsum, vero dolorem libero. Commodi natus culpa ex aliquam dolorem? ",-1);function Pe(e,o,i,r,a,s){const n=(0,t.up)("SignInForm");return(0,t.wg)(),(0,t.iD)("div",qe,[!a.visibleForm||a.w>a.minWidth?((0,t.wg)(),(0,t.iD)("div",Fe,[Se,a.w<a.minWidth?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:o[0]||(o[0]=(...e)=>s.next&&s.next(...e)),class:"border-green-700 bg-green-700 shadow-md border rounded-xl p-2 mt-2 hover:bg-green-800 cursor-pointer w-full"},"Ho letto")):(0,t.kq)("",!0)])):(0,t.kq)("",!0),a.w<a.minWidth&&a.visibleForm?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:o[1]||(o[1]=(...e)=>s.back&&s.back(...e)),class:"border-green-700 bg-green-700 shadow-md border rounded-xl p-2 mt-2 hover:bg-green-800 cursor-pointer"},"Torna indietro")):(0,t.kq)("",!0),a.w>a.minWidth||a.visibleForm?((0,t.wg)(),(0,t.j4)(n,{key:2,class:"w-auto md:w-96"})):(0,t.kq)("",!0)])}const Qe={class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg"},Re=(0,t._)("label",{for:"nome"},"Nome azienda:",-1),Ee=(0,t._)("label",{for:"email"},"Email:",-1),Le=(0,t._)("label",{for:"password"},"Password:",-1),Oe={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},Ze={key:0},Ue={key:1},Ve=(0,t._)("label",{for:"dimensioneAzienda"},"Dimensione azienda:",-1),je=(0,t._)("option",{value:"piccola"},"piccola",-1),Te=(0,t._)("option",{value:"media"},"media",-1),Ne=(0,t._)("option",{value:"grande"},"grande",-1),Me=[je,Te,Ne],He=(0,t._)("label",{for:"cap"},"CAP:",-1),Ke=(0,t._)("label",{for:"citta"},"Città:",-1),Ye=(0,t._)("label",{for:"ATECO"},"Codice ATECO:",-1),We={class:"codiciCER"},Ge=(0,t._)("label",{for:"codiciCER"},"Principali codici CER",-1),$e=(0,t._)("p",{class:"text-xs pb-2"},"(premi spazio una volta inserito)",-1),Be={class:"gap-2 flex"},Je=["onClick"],Xe=(0,t._)("i",{class:"fa-regular fa-circle-xmark"},null,-1),eo={key:1,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},oo={key:0};function io(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",Qe,[(0,t._)("form",{onSubmit:o[10]||(o[10]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"])),class:"flex flex-col justify-between gap-2"},[Re,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"nome",name:"nome","onUpdate:modelValue":o[0]||(o[0]=e=>s.nome=e)},null,512),[[r.nr,s.nome]]),Ee,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"email",name:"email","onUpdate:modelValue":o[1]||(o[1]=e=>s.email=e)},null,512),[[r.nr,s.email]]),Le,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"password",name:"password","onUpdate:modelValue":o[2]||(o[2]=e=>s.password=e)},null,512),[[r.nr,s.password]]),s.errorePassword||s.errorePasswordNumeri?((0,t.wg)(),(0,t.iD)("div",Oe,[s.errorePassword?((0,t.wg)(),(0,t.iD)("p",Ze,(0,fe.zw)(s.errorePassword),1)):(0,t.kq)("",!0),s.errorePasswordNumeri?((0,t.wg)(),(0,t.iD)("p",Ue,(0,fe.zw)(s.errorePasswordNumeri),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),Ve,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>s.dimensioneAzienda=e),class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700"},Me,512),[[r.bM,s.dimensioneAzienda]]),He,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"cap",name:"cap","onUpdate:modelValue":o[4]||(o[4]=e=>s.cap=e)},null,512),[[r.nr,s.cap]]),Ke,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"citta",name:"citta","onUpdate:modelValue":o[5]||(o[5]=e=>s.citta=e)},null,512),[[r.nr,s.citta]]),Ye,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"ATECO",name:"ATECO","onUpdate:modelValue":o[6]||(o[6]=e=>s.ateco=e)},null,512),[[r.nr,s.ateco]]),(0,t._)("div",We,[Ge,$e,(0,t.wy)((0,t._)("input",{type:"text",name:"codiciCER",class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md w-full","onUpdate:modelValue":o[7]||(o[7]=e=>s.tempCER=e),onKeyup:o[8]||(o[8]=(...e)=>n.addCER&&n.addCER(...e))},null,544),[[r.nr,s.tempCER]]),(0,t._)("div",Be,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.codiciCER,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"displayCodici bg-black bg-opacity-30 rounded-xl px-2 mt-3 cursor-pointer text-green-500",key:e},[(0,t._)("span",{onClick:o=>n.removeCER(e),class:"flex gap-1 items-center"},[Xe,(0,t.Uk)(" "+(0,fe.zw)(e),1)],8,Je)])))),128))])]),(0,t._)("input",{class:"border-green-700 bg-green-700 shadow-md border rounded-xl p-2 mt-2 hover:bg-green-800 cursor-pointer",type:"submit",value:"invia",onClick:o[9]||(o[9]=(...o)=>e.prossimoStep&&e.prossimoStep(...o))}),s.erroreForm?((0,t.wg)(),(0,t.iD)("div",eo,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",oo,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],32)])}var ro={data(){return{useridDB:"13",nome:"",email:"",password:"",cap:"",citta:"",ateco:"",dimensioneAzienda:"",tempCER:"",codiciCER:[],errorePassword:"",errorePasswordNumeri:"",erroreForm:"",formOk:!1}},methods:{addCER(e){" "===e.key&&this.tempCER&&(this.codiciCER.includes(this.tempCER)||this.codiciCER.push(this.tempCER),this.tempCER="")},removeCER(e){this.codiciCER=this.codiciCER.filter((o=>e!=o)),console.log(this.codiciCER)},existsCER(e){return this.codiciCER.includes(e)},submitValidator(){this.errorePassword="",this.errorePasswordNumeri="",this.formOk=!0,this.password.length<8&&(this.formOk=!1,this.errorePassword="Password troppo corta!"),this.containsNumbers(this.password)||(this.formOk=!1,this.errorePasswordNumeri="La password deve contenere almeno un numero!")},containsNumbers(e){var o=/\d/;return!!o.test(e)},submitForm(){const e=new FormData;e.append("nomeAzienda",this.nome),e.append("email",this.email),e.append("cap",this.cap),e.append("password",this.password),e.append("citta",this.citta),e.append("ateco",this.ateco),e.append("dimensioni",this.dimensioneAzienda),e.append("codiciCer",this.codiciCER),this.submitValidator(),this.formOk&&E.Z.post("http://localhost/www/api/api-user-signup.php",e).then((e=>{""==e.data.error?this.$router.push({name:"QuestionarioObbligatorio",params:{userid:e.data.userid}}):this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}}};const to=(0,h.Z)(ro,[["render",io]]);var ao=to,so={mounted(){window.addEventListener("resize",(()=>{this.w=window.innerWidth}))},data(){return{w:window.innerWidth,minWidth:768,visibleForm:!1}},components:{SignInForm:ao},methods:{next(){this.visibleForm=!0},back(){this.visibleForm=!1}}};const no=(0,h.Z)(so,[["render",Pe]]);var lo=no;const co={class:"bg-site-error bg-opacity-70 hover:bg-opacity-80 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg mx-auto"},po=(0,t._)("h1",{class:"font-Inter font-bold text-3xl mb-4"},"Errore - pagina non trovata",-1),go=(0,t._)("p",{class:"text-xs"},"La pagina a cui stai cercando di accedere non è disponibile",-1),uo=[po,go];function mo(e,o){return(0,t.wg)(),(0,t.iD)("div",co,uo)}const bo={},ho=(0,h.Z)(bo,[["render",mo]]);var wo=ho;function fo(e,o,i,r,a,s){return(0,t.wg)(),(0,t.iD)("div",null," statistiche ancora da vedere cosa ")}var yo={props:["userid"],setup(){return{}}};const xo=(0,h.Z)(yo,[["render",fo]]);var vo=xo;const ko={class:"mx-2 my-3 xl:mx-auto bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg"},Do={class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},_o={class:"flex gap-3 flex-col md:flex-row justify-between"},zo={class:"sezioni bg-black bg-opacity-20 p-2 rounded-xl shadow-md md:w-2/5"},Co=["onClick"],Io={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-2 rounded-xl mt-2"},Ao={class:"DOMANDE w-full"},qo=["v-if"];function Fo(e,o,i,r,a,s){const n=(0,t.up)("Domanda");return(0,t.wg)(),(0,t.iD)("div",ko,[(0,t._)("h1",Do,(0,fe.zw)(a.titolo),1),(0,t._)("div",_o,[(0,t._)("div",zo,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.sezioni,(e=>((0,t.wg)(),(0,t.iD)("div",{onClick:o=>s.Selezionasezione(e),class:"border border-site-secondary rounded-lg px-2 py-1 mb-1 hover:bg-site-primary cursor-pointer"},(0,fe.zw)(e),9,Co)))),256)),(0,t._)("button",{onClick:o[0]||(o[0]=e=>s.questionarioCompletato()),class:"border-site-secondary border w-full rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary"},"Invia"),a.finito&&""==a.error?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Io,[(0,t._)("p",null,(0,fe.zw)(a.error),1)]))]),(0,t._)("div",Ao,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.domandeVisibili,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.codDomandaQuestionario,"v-if":e.sezioni_nome==a.sezioneSelezionata},[(0,t.Wm)(n,{id:e.numeroDomanda,sezione:e.sezioni_nome,testo:e.testo,scelte:e.scelteValori,rispostaSel:s.getRisposta(e.codDomandaQuestionario),onEventorisposta:o=>s.aggiuniRisposta(o,e.codDomandaQuestionario)},null,8,["id","sezione","testo","scelte","rispostaSel","onEventorisposta"])],8,qo)))),128))])])])}const So={class:"flex items-center gap-2 max-w-5xl bg-black bg-opacity-20 p-2 rounded-xl shadow-md mb-2"},Po={class:"bg-black bg-opacity-20 px-2 rounded-full text-center"},Qo={class:"w-[90%]"},Ro={class:"p-1 flex flex-col gap-2 items-left"},Eo=(0,t._)("label",{for:"risposta",class:"text-xs"},"Risposta:",-1),Lo=["value","selected"];function Oo(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",So,[(0,t._)("h2",Po,(0,fe.zw)(i.id),1),(0,t._)("p",Qo,(0,fe.zw)(i.testo),1),(0,t._)("div",Ro,[Eo,(0,t.wy)(((0,t.wg)(),(0,t.iD)("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.risposta=e),onChange:o[1]||(o[1]=(...e)=>n.inviaRisposta&&n.inviaRisposta(...e)),key:n.getselected,class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700 w-32",id:"risposta"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.scelte,(e=>((0,t.wg)(),(0,t.iD)("option",{value:e,selected:n.eSelezionata(e)},(0,fe.zw)(e),9,Lo)))),256))],32)),[[r.bM,s.risposta]])])])}var Zo={props:["id","categoria","testo","scelte","rispostaSel"],data(){return{risposta:this.rispostaSel}},methods:{prova(){console.log(this.id)},inviaRisposta(){this.$emit("eventorisposta",this.risposta)},eSelezionata(e){return this.risposta==e},getselected(){return this.risposta}}};const Uo=(0,h.Z)(Zo,[["render",Oo]]);var Vo=Uo,jo={props:["userid"],components:{Domanda:Vo},data(){return{titolo:"",domande:[],domandeVisibili:[],sezioni:[],scelte:{},sezioneSelezionata:"",finito:!0,error:""}},mounted(){this.mostraQuestionario()},methods:{mostraQuestionario(){const e=new FormData;e.append("titolo","Questionario obbligatorio"),E.Z.post("http://localhost/www/api/api-user-get-survey.php",e).then((e=>{this.titolo=e.data.titolo,this.domande=e.data.result})).then((()=>{this.mostraSezione(),this.mostraDomande()})).catch((e=>{console.error(e)}))},submitForm(){const e=new FormData;e.append("codQuestionario",this.domande[0]["sezioni_questionari_codQuestionario"]),e.append("codAzienda",this.userid),e.append("codDomande",Object.keys(this.scelte)),e.append("risposte",this.convertiScelteInPunteggio()),E.Z.post("http://localhost/www/api/api-user-add-done-survey.php",e).then((e=>{this.error="",""==e.data.error?(this.$emit("loggedInUser"),this.$router.push({name:"LoggedIn",params:{userid:this.userid}})):this.error=e.data.error})).catch((e=>{console.error(e)}))},mostraDomande(){this.domandeVisibili=this.domande.filter((e=>e.sezioni_nome==this.sezioneSelezionata))},mostraSezione(){this.sezioni=[],this.domande.forEach((e=>{this.sezioni.includes(e.sezioni_nome)||(this.sezioni.push(e.sezioni_nome),this.sezioneSelezionata=this.sezioni.at(0))}))},Selezionasezione(e){this.sezioneSelezionata=e,this.mostraDomande()},aggiuniRisposta(e,o){this.scelte[o]=e},getRisposta(e){return this.scelte[e]},convertiScelteInPunteggio(){const e=[];for(const o in this.scelte){const i=this.scelte[o],r=this.domande.find((e=>e.codDomandaQuestionario===parseInt(o)));if(r&&r.sceltePesi){const o=r.scelteValori.indexOf(i);if(-1!==o&&o<r.sceltePesi.length){const i=r.sceltePesi[o];e.push(i)}}}return e},questionarioCompletato(){this.finito=!1,this.error="completa prima il questionario";let e=Object.keys(this.scelte).length;e==this.domande.length&&(this.error="",this.finito=!0,this.submitForm())}}};const To=(0,h.Z)(jo,[["render",Fo]]);var No=To;const Mo={class:"mx-auto bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg w-3/4"},Ho=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-30 p-2 rounded-xl shadow-md justify-start"},"Questionari compilati",-1),Ko={class:"QUESTIONARI"};function Yo(e,o,i,r,a,s){const n=(0,t.up)("Questionario");return(0,t.wg)(),(0,t.iD)("div",Mo,[Ho,(0,t._)("div",Ko,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.punteggi,(e=>((0,t.wg)(),(0,t.j4)(n,{key:e.id,id:e.id,titolo:e.titolo,punteggio:e.punteggio},null,8,["id","titolo","punteggio"])))),128))])])}const Wo={class:"flex gap-2 justify-between bg-black bg-opacity-20 shadow-md rounded-lg px-2 py-3 mb-3"};function Go(e,o,i,r,a,s){return(0,t.wg)(),(0,t.iD)("div",Wo,[(0,t._)("p",null,(0,fe.zw)(i.id),1),(0,t._)("h2",null,(0,fe.zw)(i.titolo),1),(0,t._)("p",null,(0,fe.zw)(i.punteggio),1)])}var $o={props:["id","titolo","punteggio"],setup(){return{}}};const Bo=(0,h.Z)($o,[["render",Go]]);var Jo=Bo,Xo={props:["userid"],components:{Questionario:Jo},data(){return{punteggi:[]}},mounted(){this.mostraQuestionari()},methods:{mostraQuestionari(){const e=new FormData;e.append("codAzienda",this.userid),E.Z.post("http://localhost/www/api/api-user-get-survey-score.php",e).then((e=>{this.punteggi=e.data.result})).catch((e=>{console.error(e)}))}}};const ei=(0,h.Z)(Xo,[["render",Yo]]);var oi=ei;function ii(e,o,i,r,a,s){const n=(0,t.up)("Questionari");return(0,t.wg)(),(0,t.j4)(n)}const ri={class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg w-2/3 mx-auto"},ti=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},"Questionari",-1),ai={key:0},si={class:"w-full"},ni=(0,t._)("tr",{class:"bg-black bg-opacity-20 p-2 shadow-md"},[(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Ordine"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Id"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[80%]"},"Titolo")],-1),di={class:"hover:cursor-pointer hover:bg-white hover:bg-opacity-10"},li=["onClick"],ci=["onClick"],pi=["onClick"],gi={key:1,class:"px-3 bg-opacity-20 bg-black w-full p-2 rounded-xl shadow-md"},ui=(0,t._)("h2",{class:"font-Inter text-lg mb-2 pl-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},"Risultati aziende",-1),mi={class:"px-4"};function bi(e,o,i,r,a,s){return(0,t.wg)(),(0,t.iD)("div",ri,[ti,a.primapagina?((0,t.wg)(),(0,t.iD)("div",ai,[(0,t._)("table",si,[ni,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.questionari,(e=>((0,t.wg)(),(0,t.iD)("tr",di,[(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>s.mostraRisultati(e.codQuestionario)},(0,fe.zw)(e.ordine),9,li),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>s.mostraRisultati(e.codQuestionario)},(0,fe.zw)(e.codQuestionario),9,ci),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>s.mostraRisultati(e.codQuestionario)},(0,fe.zw)(e.titolo),9,pi)])))),256))])])):(0,t.kq)("",!0),a.primapagina?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",gi,[ui,(0,t._)("div",mi,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.punteggiVisibili,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.aziende_codAzienda,class:"mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md flex justify-between px-3"},[(0,t._)("p",null,(0,fe.zw)(e.dataCompilazione),1),(0,t._)("p",null,(0,fe.zw)(e.nomeAzienda),1),(0,t._)("p",null,(0,fe.zw)(e.punteggio),1)])))),128))]),(0,t._)("button",{onClick:o[0]||(o[0]=(...e)=>s.tornaIndietro&&s.tornaIndietro(...e)),class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1"},"Precedente")]))])}var hi={data(){return{punteggiVisibili:[],questionari:[],punteggi:[],primapagina:!0}},mounted(){this.mostraQuestionari()},methods:{mostraQuestionari(){E.Z.get("http://localhost/www/api/api-admin-get-surveys-scores.php").then((e=>{this.questionari=e.data.surveys,this.punteggi=e.data.scores})).catch((e=>{console.error(e)}))},disponiQuestionari(e){this.punteggiVisibili=[],this.punteggi.forEach((o=>{o.codQuestionario==e&&this.punteggiVisibili.push(o)}))},mostraRisultati(e){this.primapagina=!this.primapagina,this.disponiQuestionari(e)},tornaIndietro(){this.primapagina=!this.primapagina}}};const wi=(0,h.Z)(hi,[["render",bi]]);var fi=wi,yi={props:["userid"],components:{Questionari:fi},data(){return{}}};const xi=(0,h.Z)(yi,[["render",ii]]);var vi=xi;function ki(e,o,i,r,a,s){const n=(0,t.up)("Operazioni");return(0,t.wg)(),(0,t.j4)(n)}const Di={class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg w-1/3 mx-auto"},_i=(0,t._)("h1",{class:"text-2xl font-Inter font-bold text-center mb-2"},"Aggiungi Admin",-1),zi=(0,t._)("label",{for:"username"},"Username:",-1),Ci=(0,t._)("label",{for:"email"},"Email:",-1),Ii=(0,t._)("label",{for:"password"},"Password:",-1),Ai=(0,t._)("label",{for:"ripetipassword"},"Ripeti Password:",-1),qi=(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1",type:"submit",value:"invia"},null,-1),Fi={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},Si={key:0},Pi={key:1,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},Qi={key:0};function Ri(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",Di,[_i,(0,t._)("form",{onSubmit:o[4]||(o[4]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"])),class:"flex flex-col justify-between gap-2"},[zi,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"username",name:"username","onUpdate:modelValue":o[0]||(o[0]=e=>s.username=e)},null,512),[[r.nr,s.username]]),Ci,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"email",name:"email","onUpdate:modelValue":o[1]||(o[1]=e=>s.email=e)},null,512),[[r.nr,s.email]]),Ii,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"password",name:"password","onUpdate:modelValue":o[2]||(o[2]=e=>s.password=e)},null,512),[[r.nr,s.password]]),Ai,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"password",name:"ripetipassword","onUpdate:modelValue":o[3]||(o[3]=e=>s.passwordRepeat=e)},null,512),[[r.nr,s.passwordRepeat]]),qi,s.erroreForm?((0,t.wg)(),(0,t.iD)("div",Fi,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",Si,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),s.risultato?((0,t.wg)(),(0,t.iD)("div",Pi,[s.risultato?((0,t.wg)(),(0,t.iD)("p",Qi,(0,fe.zw)(s.risultato),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],32)])}var Ei={props:["userid"],data(){return{username:"",email:"",password:"",passwordRepeat:"",erroreForm:"",formOk:!1,risultato:""}},methods:{validator(){this.formOk=!0,this.password.length<8&&(this.formOk=!1,this.erroreForm="Password troppo corta!"),this.containsNumbers(this.password)||(this.formOk=!1,this.erroreForm="La password deve contenere almeno un numero!"),this.password!==this.passwordRepeat&&(this.formOk=!1,this.erroreForm="Le password non corrispondono!")},containsNumbers(e){var o=/\d/;return!!o.test(e)},submitForm(){this.risultato="";const e=new FormData;e.append("username",this.username),e.append("email",this.email),e.append("password",this.password),e.append("passwordRepeat",this.passwordRepeat),this.validator(),this.formOk&&E.Z.post("http://localhost/www/api/api-admin-signup.php",e).then((e=>{""==e.data.error?(this.risultato="admin aggiunto",this.erroreForm="",this.username="",this.email="",this.password="",this.passwordRepeat="",this.erroreForm="",this.formOk=!1):this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}}};const Li=(0,h.Z)(Ei,[["render",Ri]]);var Oi=Li,Zi={props:["userid"],components:{Operazioni:Oi},data(){return{}}};const Ui=(0,h.Z)(Zi,[["render",ki]]);var Vi=Ui;const ji={class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg min-h-[60%] w-5/6 mx-auto"},Ti=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},"Domande",-1),Ni={class:"flex gap-3 flex-col md:flex-row justify-between"},Mi={class:"CATEGORIE bg-black bg-opacity-20 p-2 rounded-xl shadow-md md:w-1/5 h-fit"},Hi=["onClick"];function Ki(e,o,i,r,a,s){const n=(0,t.up)("AddQuestions"),d=(0,t.up)("ModifyQuestions"),l=(0,t.up)("AddCategory");return(0,t.wg)(),(0,t.iD)("div",ji,[Ti,(0,t._)("div",Ni,[(0,t._)("div",Mi,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.azioni,(e=>((0,t.wg)(),(0,t.iD)("div",{onClick:o=>s.SelezionaAzione(e),class:"border border-site-secondary rounded-lg px-3 py-1 mb-2 hover:bg-site-primary cursor-pointer"},(0,fe.zw)(e),9,Hi)))),256))]),this.azioneCorrente==this.azioni[0]?((0,t.wg)(),(0,t.j4)(n,{key:0})):(0,t.kq)("",!0),this.azioneCorrente==this.azioni[1]?((0,t.wg)(),(0,t.j4)(d,{key:1})):(0,t.kq)("",!0),this.azioneCorrente==this.azioni[2]?((0,t.wg)(),(0,t.j4)(l,{key:2})):(0,t.kq)("",!0)])])}const Yi={class:"w-full bg-black bg-opacity-20 p-2 rounded-xl shadow-md mb-2"},Wi=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},"Aggiunta domanda",-1),Gi={class:"mb-4"},$i=(0,t._)("label",{class:"block font-bold mb-2",for:"domandaText"},"Testo della domanda",-1),Bi={class:"flex justify-between self-center"},Ji={class:"mb-4"},Xi=(0,t._)("label",{class:"font-bold",for:"positiveImpact"},"Impatto positivo",-1),er={class:"mb-4"},or=(0,t._)("label",{class:"font-bold mb-2 mr-2",for:"category"},"Categoria",-1),ir={class:"mb-4"},rr=(0,t._)("label",{for:"risposte"},"Possibili risposte",-1),tr=(0,t._)("div",{class:"flex gap-2"},[(0,t._)("p",{class:"text-xs pb-2"},'(premi "/" una volta inserita)')],-1),ar={class:"gap-2 flex"},sr=["onClick"],nr=(0,t._)("i",{class:"fa-regular fa-circle-xmark"},null,-1),dr=(0,t._)("div",{class:"flex justify-center"},[(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1 w-1/4",type:"submit",value:"aggiungi"})],-1),lr={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},cr={key:0},pr={key:1,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},gr={key:0};function ur(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",Yi,[Wi,(0,t._)("form",{onSubmit:o[5]||(o[5]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[(0,t._)("div",Gi,[$i,(0,t.wy)((0,t._)("textarea",{class:"bg-green-900 px-2 py-1 ring-1 w-full h-32 text-start ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",id:"domandaText",name:"domandaText",maxlength:"1024","onUpdate:modelValue":o[0]||(o[0]=e=>s.testoDomanda=e)},null,512),[[r.nr,s.testoDomanda]])]),(0,t._)("div",Bi,[(0,t._)("div",Ji,[(0,t.wy)((0,t._)("input",{class:"mr-2 leading-tight bg-green-800",type:"checkbox",id:"positiveImpact","onUpdate:modelValue":o[1]||(o[1]=e=>s.positivo=e)},null,512),[[r.e8,s.positivo]]),Xi]),(0,t._)("div",er,[or,(0,t.wy)((0,t._)("select",{class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700",id:"category","onUpdate:modelValue":o[2]||(o[2]=e=>s.categoriaSelezionata=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.categorie,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e.nomeCategoria),1)))),256))],512),[[r.bM,s.categoriaSelezionata]])])]),(0,t._)("div",ir,[rr,tr,(0,t.wy)((0,t._)("input",{type:"text",id:"risposte",name:"risposte",class:"bg-green-900 px-2 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md w-full","onUpdate:modelValue":o[3]||(o[3]=e=>s.tempRisposta=e),onKeyup:o[4]||(o[4]=(...e)=>n.addRisposta&&n.addRisposta(...e))},null,544),[[r.nr,s.tempRisposta]]),(0,t._)("div",ar,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.risposte,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"bg-black bg-opacity-30 rounded-xl px-2 mt-3 cursor-pointer text-green-500",key:e},[(0,t._)("span",{onClick:o=>n.removeRisposta(e),class:"flex gap-1 items-center"},[nr,(0,t.Uk)(" "+(0,fe.zw)(e),1)],8,sr)])))),128))])]),dr,s.erroreForm?((0,t.wg)(),(0,t.iD)("div",lr,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",cr,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),s.risultato?((0,t.wg)(),(0,t.iD)("div",pr,[s.risultato?((0,t.wg)(),(0,t.iD)("p",gr,(0,fe.zw)(s.risultato),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],32)])}var mr={data(){return{testoDomanda:"",categorie:[],risposte:[],positivo:!1,tempRisposta:"",categoriaSelezionata:"",idCategoria:"",risultato:"",erroreForm:""}},mounted(){this.updateCategories()},methods:{submitForm(){if(this.calcolaCateria(this.categoriaSelezionata),this.risultato="",this.erroreForm="",this.isFormOk()){const e=new FormData;e.append("testo",this.testoDomanda),e.append("categoria",this.categoriaSelezionata),e.append("isPositive",this.positivo),e.append("risposte",this.risposte),E.Z.post("http://localhost/www/api/api-admin-add-question.php",e).then((e=>{""==e.data.error?(this.risultato="Domanda aggiunta",this.erroreForm="",this.testoDomanda="",this.positivo=!1,this.categoriaSelezionata="",this.risposte=[]):this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}},isFormOk(){return!(!this.categoriaSelezionata||""===this.categoriaSelezionata.trim()||!this.testoDomanda||""===this.testoDomanda.trim()||this.risposte.length<2)||(this.erroreForm="tutti i campi devono essere compilati",this.risposte.length<2&&(this.erroreForm="una domanda deve avere almeno due risposte"),!1)},updateCategories(){E.Z.get("http://localhost/www/api/api-admin-get-category.php").then((e=>{this.categorie=e.data})).catch((e=>{console.error(e)}))},addRisposta(e){"/"===e.key&&this.tempRisposta&&(this.risposte.includes(this.tempRisposta)||(this.tempRisposta=this.rimuoviSlash(this.tempRisposta),this.risposte.push(this.tempRisposta)),this.tempRisposta="")},removeRisposta(e){this.risposte=this.risposte.filter((o=>e!=o))},rimuoviSlash(e){return e.replace(/\//g,"")},calcolaCateria(e){for(let o of this.categorie)o.nomeCategoria===e&&(this.idCategoria=o.codCategoria)}}};const br=(0,h.Z)(mr,[["render",ur]]);var hr=br;const wr={class:"gap-2 w-full max-h-full bg-black bg-opacity-20 p-2 rounded-xl shadow-md mb-2"},fr=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},"Categorie",-1),yr={class:"flex justify-center gap-2"},xr={class:"w-1/2 text-center box-border bg-black bg-opacity-20 rounded-xl shadow-md p-2 h-fit"},vr=(0,t._)("label",{class:"font-Inter text-xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md",for:"categoria"},"Aggiungi categoria:",-1),kr=(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1",type:"submit",value:"aggiungi"},null,-1),Dr={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},_r={key:0},zr={key:1,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},Cr={key:0},Ir={class:"w-1/2 box-border bg-black bg-opacity-20 rounded-xl shadow-md p-2 max-h-96"},Ar=(0,t._)("h3",{class:"font-Inter text-xl mb-3 bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},"Già resenti:",-1),qr={class:"h-[85%] overflow-auto"},Fr={class:"mb-2"},Sr={class:"flex flex-auto gap-2"},Pr={class:"bg-black bg-opacity-20 shadow-md px-2 rounded-full py-1"},Qr={class:"bg-black bg-opacity-20 shadow-md px-2 mr-1 rounded-xl w-full pl-3 py-1"};function Rr(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",wr,[fr,(0,t._)("div",yr,[(0,t._)("div",xr,[(0,t._)("form",{class:"flex flex-col gap-2 text-left",onSubmit:o[1]||(o[1]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[vr,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"categoria",id:"categoria",name:"categoria","onUpdate:modelValue":o[0]||(o[0]=e=>s.categoriaAggiungere=e)},null,512),[[r.nr,s.categoriaAggiungere]]),kr],32),s.erroreForm?((0,t.wg)(),(0,t.iD)("div",Dr,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",_r,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),s.risultato?((0,t.wg)(),(0,t.iD)("div",zr,[s.risultato?((0,t.wg)(),(0,t.iD)("p",Cr,(0,fe.zw)(s.risultato),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)]),(0,t._)("div",Ir,[Ar,(0,t._)("ul",qr,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.categorie,(e=>((0,t.wg)(),(0,t.iD)("li",Fr,[(0,t._)("div",Sr,[(0,t._)("p",Pr,(0,fe.zw)(e.codCategoria),1),(0,t._)("p",Qr,(0,fe.zw)(e.nomeCategoria),1)])])))),256))])])])])}var Er={data(){return{categoriaAggiungere:"",categorie:[],risultato:"",erroreForm:""}},mounted(){this.updateCategories()},methods:{submitForm(){this.risultato="";const e=new FormData;e.append("categoria",this.categoriaAggiungere),E.Z.post("http://localhost/www/api/api-admin-add-category.php",e).then((e=>{""==e.data.error?(this.risultato="categoria aggiunta",this.erroreForm="",this.categoriaAggiungere=""):this.erroreForm=e.data.error,this.updateCategories()})).catch((e=>{console.error(e)}))},updateCategories(){E.Z.get("http://localhost/www/api/api-admin-get-category.php").then((e=>{this.categorie=e.data})).catch((e=>{console.error(e)}))}}};const Lr=(0,h.Z)(Er,[["render",Rr]]);var Or=Lr;const Zr={class:"gap-2 w-full max-h-full bg-black bg-opacity-20 p-2 rounded-xl shadow-md mb-2"},Ur=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},"Domande presenti",-1),Vr={key:0,class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md",for:"CategoriaAttuale"},jr={key:1,class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md",for:"CategoriaAttuale"},Tr={class:"w-full mt-4"},Nr={key:0},Mr={class:"max-h-96 overflow-auto"},Hr={class:"w-full"},Kr=(0,t._)("tr",{class:"bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},[(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"ID"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[80%]"},"Testo"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[5%]"},"Impatto"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[5%]"}," Rimuovi")],-1),Yr={class:"hover:cursor-pointer hover:bg-white hover:bg-opacity-10 rounded-xl"},Wr=["onClick"],Gr=["onClick"],$r=["onClick"],Br={key:0,class:"fa-solid fa-plus"},Jr={key:1,class:"fa-solid fa-minus"},Xr=["onClick"],et=(0,t._)("p",{class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"}," elimina ",-1),ot=[et],it={key:1},rt={class:"mb-4"},tt=(0,t._)("label",{class:"block font-bold mb-2",for:"domandaText"},"Testo della domanda",-1),at={class:"flex justify-between self-center"},st={class:"mb-4"},nt=(0,t._)("label",{class:"font-bold",for:"positiveImpact"},"Impatto positivo",-1),dt={class:"mb-4"},lt=(0,t._)("label",{class:"font-bold mb-2 mr-2",for:"category"},"Categoria",-1),ct=(0,t._)("div",{class:"flex justify-center"},[(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1 w-1/4",type:"submit",value:"modifica"})],-1),pt={key:0,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},gt={key:0},ut={key:1,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},mt={key:0};function bt(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",Zr,[Ur,(0,t._)("form",{class:"flex flex-col",onSubmit:o[5]||(o[5]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[s.primaPagina?((0,t.wg)(),(0,t.iD)("label",Vr,"Categoria")):(0,t.kq)("",!0),s.primaPagina?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("label",jr,"Modifica")),s.primaPagina?(0,t.wy)(((0,t.wg)(),(0,t.iD)("select",{key:2,onChange:o[0]||(o[0]=e=>n.disponiDomande()),class:"bg-green-900 p-2 mt-1 mx-1 rounded-md ring-1 ring-inset ring-green-700",id:"CategoriaAttuale",name:"CategoriaAttuale","onUpdate:modelValue":o[1]||(o[1]=e=>s.categoriaCorrente=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.categorie,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e.nomeCategoria),1)))),256))],544)),[[r.bM,s.categoriaCorrente]]):(0,t.kq)("",!0),(0,t._)("table",Tr,[s.primaPagina?((0,t.wg)(),(0,t.iD)("fieldset",Nr,[(0,t._)("div",Mr,[(0,t._)("table",Hr,[Kr,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.domandeInCategoria,(e=>((0,t.wg)(),(0,t.iD)("tr",Yr,[(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>n.modificaDomanda(e)},(0,fe.zw)(e.codDomanda),9,Wr),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2",onClick:o=>n.modificaDomanda(e)},(0,fe.zw)(e.testo),9,Gr),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>n.modificaDomanda(e)},[1==e.positiva?((0,t.wg)(),(0,t.iD)("i",Br)):(0,t.kq)("",!0),0==e.positiva?((0,t.wg)(),(0,t.iD)("i",Jr)):(0,t.kq)("",!0)],8,$r),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>n.eliminaDomanda(e.codDomanda)},ot,8,Xr)])))),256))])])])):(0,t.kq)("",!0),s.primaPagina?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("fieldset",it,[(0,t._)("div",rt,[tt,(0,t.wy)((0,t._)("textarea",{class:"bg-green-900 px-2 py-1 ring-1 w-full h-32 text-start ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",id:"domandaText",name:"domandaText",maxlength:"1024","onUpdate:modelValue":o[2]||(o[2]=e=>s.testoDomanda=e)},null,512),[[r.nr,s.testoDomanda]])]),(0,t._)("div",at,[(0,t._)("div",st,[(0,t.wy)((0,t._)("input",{class:"mr-2 leading-tight bg-green-800",type:"checkbox",id:"positiveImpact","onUpdate:modelValue":o[3]||(o[3]=e=>s.positivo=e)},null,512),[[r.e8,s.positivo]]),nt]),(0,t._)("div",dt,[lt,(0,t.wy)((0,t._)("select",{class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700",id:"category","onUpdate:modelValue":o[4]||(o[4]=e=>s.categoriaSelezionata=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.categorie,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e.nomeCategoria),1)))),256))],512),[[r.bM,s.categoriaSelezionata]])])]),ct,s.erroreForm?((0,t.wg)(),(0,t.iD)("div",pt,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",gt,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),s.risultato?((0,t.wg)(),(0,t.iD)("div",ut,[s.risultato?((0,t.wg)(),(0,t.iD)("p",mt,(0,fe.zw)(s.risultato),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)]))])],32)])}var ht={data(){return{cod:"",categoriaAggiungere:"",categoriaCorrente:"",categoriaSelezionata:"",testoDomanda:"",positivo:"",categorie:[],domandeInCategoria:[],primaPagina:!0,risultato:"",erroreForm:""}},mounted(){this.updateCategories()},methods:{updateCategories(){E.Z.get("http://localhost/www/api/api-admin-get-category.php").then((e=>{this.categorie=e.data,this.categoriaCorrente=this.categorie[0]["nomeCategoria"],this.disponiDomande()})).catch((e=>{console.error(e)}))},disponiDomande(){const e=new FormData;e.append("categoria",this.categoriaCorrente),E.Z.post("http://localhost/www/api/api-admin-get-questions-alterables.php",e).then((e=>{this.domandeInCategoria=e.data})).catch((e=>{console.error(e)}))},modificaDomanda(e){this.primaPagina=!this.primaPagina,this.testoDomanda=e.testo,this.categoriaSelezionata=e.CATEGORIE_idCATEGORIA,1===e.positiva?this.positivo=!0:this.positivo=!1,this.cod=e.codDomanda},submitForm(){if(this.risultato="",this.erroreForm="",this.isFormOk()){const e=new FormData;e.append("testo",this.testoDomanda),e.append("categoria",this.categoriaSelezionata),e.append("isPositive",this.positivo),e.append("cod",this.cod),E.Z.post("http://localhost/www/api/api-admin-alter-question.php",e).then((e=>{""==e.data.error?(this.risultato="Domanda Modificata",this.erroreForm=""):this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}},eliminaDomanda(e){const o=new FormData;o.append("codDomanda",e),E.Z.post("http://localhost/www/api/api-admin-remove-quesion.php",o).catch((e=>{console.error(e)})).then((()=>{this.domandeInCategoria=[],this.disponiDomande()}))},isFormOk(){return!(!this.categoriaSelezionata||""===this.categoriaSelezionata.trim()||!this.testoDomanda||""===this.testoDomanda.trim())||(this.erroreForm="tutti i campi devono essere compilati",!1)}}};const wt=(0,h.Z)(ht,[["render",bt]]);var ft=wt,yt={props:["userid"],components:{AddQuestions:hr,AddCategory:Or,ModifyQuestions:ft},data(){return{azioni:["Aggiungi","Modifica","Categorie"],azioneCorrente:"Modifica"}},methods:{SelezionaAzione(e){this.azioneCorrente=e}}};const xt=(0,h.Z)(yt,[["render",Ki]]);var vt=xt;const kt={class:"bg-site-primary bg-opacity-70 backdrop-blur-md drop-shadow-lg border-green-600 p-10 rounded-lg min-h-[60%] w-5/6 mx-auto"},Dt=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},"Questionari",-1),_t={class:"flex gap-3 flex-col md:flex-row justify-between"},zt={class:"QUESTIONARI bg-black bg-opacity-20 p-2 rounded-xl shadow-md md:w-1/5 h-fit"},Ct=["onClick"];function It(e,o,i,r,a,s){const n=(0,t.up)("AddSurvey"),d=(0,t.up)("ModifySurveys");return(0,t.wg)(),(0,t.iD)("div",kt,[Dt,(0,t._)("div",_t,[(0,t._)("div",zt,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.azioni,(e=>((0,t.wg)(),(0,t.iD)("div",{onClick:o=>s.SelezionaAzione(e),class:"border border-site-secondary rounded-lg px-3 py-1 mb-2 hover:bg-site-primary cursor-pointer"},(0,fe.zw)(e),9,Ct)))),256))]),this.azioneCorrente==this.azioni[0]?((0,t.wg)(),(0,t.j4)(n,{key:0,id:i.userid},null,8,["id"])):(0,t.kq)("",!0),this.azioneCorrente==this.azioni[1]?((0,t.wg)(),(0,t.j4)(d,{key:1,id:i.userid},null,8,["id"])):(0,t.kq)("",!0)])])}const At={class:"gap-2 w-full max-h-full bg-black bg-opacity-20 p-2 rounded-xl shadow-md mb-2"},qt=(0,t._)("h1",{class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},"Crea questionario",-1),Ft={key:0,class:"flex flex-col gap-2 text-left"},St=(0,t._)("label",{class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md",for:"titolo"},"Titolo:",-1),Pt=(0,t._)("label",{for:"sezioni",class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},"Sezioni",-1),Qt=(0,t._)("p",{class:"text-xs pb-2 ml-2"},'(premi "/" una volta inserita)',-1),Rt={class:"gap-2 flex flex-wrap"},Et=["onClick"],Lt=(0,t._)("i",{class:"fa-regular fa-circle-xmark"},null,-1),Ot={key:1,class:"flex flex-col gap-2 text-left"},Zt={class:"flex justify-between gap-2"},Ut={class:"flex flex-col w-full"},Vt=(0,t._)("label",{class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md",for:"CategoriaAttuale"},"Categoria",-1),jt={class:"flex flex-col w-full"},Tt=(0,t._)("label",{class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md",for:"SezioneAttuale"},"Sezione",-1),Nt={class:"overflow-auto box-border bg-black bg-opacity-20 rounded-xl shadow-md p-2 max-h-72 mt-2"},Mt={class:"overflow-auto w-full"},Ht=(0,t._)("tr",{class:"bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},[(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Inserita"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[70%]"},"Testo"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Impatto"),(0,t._)("th",{class:"border-x-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Peso")],-1),Kt={class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},Yt=["onClick"],Wt={key:0,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},Gt={key:1,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},$t={class:"border-l-2 border-spacing-2 border-green-800 p-2"},Bt={class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center"},Jt={key:0,class:"fa-solid fa-plus"},Xt={key:1,class:"fa-solid fa-minus"},ea={class:"border-x-2 border-spacing-2 border-green-800 p-2 text-center"},oa=["onUpdate:modelValue"],ia=(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1",type:"submit",value:"Crea"},null,-1),ra={key:2,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},ta={key:0},aa={key:3,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},sa={key:0};function na(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",At,[qt,(0,t._)("form",{onSubmit:o[6]||(o[6]=(0,r.iM)(((...e)=>n.submitForm&&n.submitForm(...e)),["prevent"]))},[s.primaPagina?((0,t.wg)(),(0,t.iD)("fieldset",Ft,[St,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 mb-3 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"titolo",id:"titolo",name:"titolo","onUpdate:modelValue":o[0]||(o[0]=e=>s.titolo=e)},null,512),[[r.nr,s.titolo]]),Pt,Qt,(0,t.wy)((0,t._)("input",{type:"text",id:"sezioni",name:"sezioni",class:"bg-green-900 px-2 mb-3 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md","onUpdate:modelValue":o[1]||(o[1]=e=>s.tempSezione=e),onKeyup:o[2]||(o[2]=(...e)=>n.addSezione&&n.addSezione(...e))},null,544),[[r.nr,s.tempSezione]]),(0,t._)("div",Rt,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.sezioni,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"bg-black bg-opacity-30 rounded-xl px-2 cursor-pointer text-green-500 flex",key:e},[(0,t._)("span",{onClick:o=>n.removeSezione(e),class:"flex gap-1 items-center"},[Lt,(0,t.Uk)(" "+(0,fe.zw)(e),1)],8,Et)])))),128))])])):(0,t.kq)("",!0),s.primaPagina?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("fieldset",Ot,[(0,t._)("div",Zt,[(0,t._)("div",Ut,[Vt,(0,t.wy)((0,t._)("select",{onChange:o[3]||(o[3]=e=>n.disponiDomande()),class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700",id:"CategoriaAttuale",name:"CategoriaAttuale","onUpdate:modelValue":o[4]||(o[4]=e=>s.categoriaCorrente=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.categorie,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e.nomeCategoria),1)))),256))],544),[[r.bM,s.categoriaCorrente]])]),(0,t._)("div",jt,[Tt,(0,t.wy)((0,t._)("select",{class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700",id:"SezioneAttuale",name:"SezioneAttuale","onUpdate:modelValue":o[5]||(o[5]=e=>s.sezioneCorrente=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.sezioni,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e),1)))),256))],512),[[r.bM,s.sezioneCorrente]])])]),(0,t._)("div",Nt,[(0,t._)("table",Mt,[Ht,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.domandeInCategoria,(e=>((0,t.wg)(),(0,t.iD)("tr",null,[(0,t._)("td",Kt,[(0,t._)("span",{onClick:o=>(n.toggleInserita(e.testo),n.addDomandeQuestionari())},[e.inserire?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",Wt,"Aggiungi")),e.inserire?((0,t.wg)(),(0,t.iD)("p",Gt,"Rimuovi")):(0,t.kq)("",!0)],8,Yt)]),(0,t._)("td",$t,(0,fe.zw)(e.testo),1),(0,t._)("td",Bt,[1==e.positiva?((0,t.wg)(),(0,t.iD)("i",Jt)):(0,t.kq)("",!0),0==e.positiva?((0,t.wg)(),(0,t.iD)("i",Xt)):(0,t.kq)("",!0)]),(0,t._)("td",ea,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":o=>e.peso=o,type:"number",value:"1",min:"0",max:"10",class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700"},null,8,oa),[[r.nr,e.peso]])])])))),256))])]),ia]))],32),s.primaPagina?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:o[7]||(o[7]=(...e)=>n.cambiaPagina&&n.cambiaPagina(...e)),class:"border-green-800 mt-3 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1"},"Successivo")):(0,t.kq)("",!0),s.primaPagina?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:o[8]||(o[8]=(...e)=>n.cambiaPagina&&n.cambiaPagina(...e)),class:"border-green-800 mt-3 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1"},"Precedente")),s.erroreForm?((0,t.wg)(),(0,t.iD)("div",ra,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",ta,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),s.risultato?((0,t.wg)(),(0,t.iD)("div",aa,[s.risultato?((0,t.wg)(),(0,t.iD)("p",sa,(0,fe.zw)(s.risultato),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)])}var da={props:{id:{type:String,required:!0}},data(){return{titolo:"",categorie:[],categoriaCorrente:"",domandeInCategoria:[],domandeQuestionari:[],tempSezione:"",sezioni:[],risultato:"",erroreForm:"",primaPagina:!0,indiceDomandaInternoAlQuestionario:1,numeriDomandaAssoc:[],pesiAssoc:[],codiciDomandaAssoc:[],sezioniDomandaAssoc:[],sezioneCorrente:""}},mounted(){this.updateCategories()},methods:{updateCategories(){E.Z.get("http://localhost/www/api/api-admin-get-category.php").then((e=>{this.categorie=e.data})).catch((e=>{console.error(e)}))},cambiaPagina(){this.erroreForm="",this.risultato="",this.primaPagina||(this.addDomandeQuestionari(),this.domandeInCategoria=[],0!=this.categoriaCorrente.length&&this.disponiDomande()),this.primaPagina=!this.primaPagina},disponiDomande(){const e=new FormData;e.append("categoria",this.categoriaCorrente),E.Z.post("http://localhost/www/api/api-admin-get-questions.php",e).then((e=>{this.domandeInCategoria=e.data,void 0!==this.domandeInCategoria&&(this.domandeInCategoria=this.controlloDomandeQuestionari(this.domandeInCategoria))})).catch((e=>{console.error(e)}))},toggleInserita(e){this.erroreForm="",""!=this.sezioneCorrente?this.domandeInCategoria.forEach((o=>{o.testo===e&&(void 0===o.inserire?(o.inserire=!0,o.numeroDomanda=this.indiceDomandaInternoAlQuestionario,this.indiceDomandaInternoAlQuestionario++):(o.inserire||(o.numeroDomanda=this.indiceDomandaInternoAlQuestionario,this.indiceDomandaInternoAlQuestionario++),o.inserire=!o.inserire))})):this.erroreForm="seleziona una sezione"},addDomandeQuestionari(){this.domandeInCategoria.forEach((e=>{if(void 0!==e.inserire)if(!this.giaPresente(e.codDomanda)&&e.inserire)void 0===e.peso?e.peso=1:this.domandeQuestionari.push({codDomanda:e.codDomanda,numeroDomanda:e.numeroDomanda,peso:e.peso,sezione:this.sezioneCorrente});else if(!e.inserire){const o=this.domandeQuestionari.findIndex((o=>o.codDomanda===e.codDomanda));-1!==o&&this.domandeQuestionari.splice(o,1)}}))},giaPresente(e){for(let o of this.domandeQuestionari)if(o.codDomanda===e)return!0;return!1},controlloDomandeQuestionari(e){return e.forEach((e=>{this.giaPresente(e.codDomanda)?(e.inserire=!0,this.domandeQuestionari.forEach((o=>{e.codDomanda==o.codDomanda&&(e.peso=o.peso,e.numeroDomanda=o.numeriDomanda,e.sezione=o.sezione)}))):(e.sezione=this.sezioni[0],e.peso=1,e.numeroDomanda=""),delete e.moderatori_codModeratore})),e},submitForm(){if(this.erroreForm="",this.risultato="",this.checkForm()){const e=new FormData;this.sistemaArrayAssociativo(),e.append("adminID",this.id),e.append("titolo",this.titolo),e.append("numeroDomanda",this.numeriDomandaAssoc),e.append("peso",this.pesiAssoc),e.append("codDomanda",this.codiciDomandaAssoc),e.append("sezione",this.sezioniDomandaAssoc),e.append("sezioniDaAggiungere",this.sezioni),E.Z.post("http://localhost/www/api/api-admin-add-survey.php",e).then((e=>{""==e.data.error?(this.risultato=e.data.result,this.risultato="questionario aggiunto",this.domandeQuestionari=[],this.titolo=""):this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}},checkForm(){if(""==this.titolo)return this.erroreForm="il questionario non ha titolo",!1;if(this.sezioneCorrente="")return this.erroreForm="inserisci almeno una sezione",!1;if(this.domandeQuestionari.length<1)return this.erroreForm="il questionario non ha domande",!1;for(let e of this.domandeQuestionari)if(e.peso<=0||e.peso>10)return this.erroreForm="il peso delle domande deve essere compreso tra 0 e 10",!1;return!0},addSezione(e){"/"===e.key&&this.tempSezione&&(this.sezioni.includes(this.tempSezione)||(this.tempSezione=this.rimuoviSlash(this.tempSezione),this.sezioni.push(this.tempSezione)),this.tempSezione="")},removeSezione(e){this.sezioni=this.sezioni.filter((o=>e!=o))},rimuoviSlash(e){return e.replace(/\//g,"")},sistemaArrayAssociativo(){let e=[],o=[],i=[],r=[];this.domandeQuestionari.forEach((t=>{e.push(t.numeroDomanda),o.push(t.peso),i.push(t.codDomanda),r.push(t.sezione)})),this.numeriDomandaAssoc=e,this.pesiAssoc=o,this.codiciDomandaAssoc=i,this.sezioniDomandaAssoc=r}}};const la=(0,h.Z)(da,[["render",na]]);var ca=la;const pa={class:"gap-2 w-full max-h-full bg-black bg-opacity-20 p-2 rounded-xl shadow-md mb-2"},ga={key:0,class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},ua={key:1,class:"font-Inter text-3xl mb-3 bg-black bg-opacity-20 w-full p-2 rounded-xl shadow-md"},ma={key:0},ba={class:"w-full"},ha=(0,t._)("tr",{class:"bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},[(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"ID"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[80%]"},"Titolo"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Elimina")],-1),wa={class:"hover:cursor-pointer hover:bg-white hover:bg-opacity-10 rounded-xl"},fa=["onClick"],ya=["onClick"],xa=["onClick"],va=(0,t._)("p",{class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"}," elimina ",-1),ka=[va],Da={key:1,class:"flex flex-col gap-2"},_a=(0,t._)("label",{class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md",for:"titolo"},"Titolo:",-1),za={class:"flex justify-between gap-2"},Ca={class:"flex flex-col w-full"},Ia=(0,t._)("label",{class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md",for:"CategoriaAttuale"},"Categoria",-1),Aa={class:"flex flex-col w-full"},qa=(0,t._)("label",{class:"font-Inter text-xl mb-1 bg-black bg-opacity-20 p-2 rounded-xl shadow-md",for:"SezioneAttuale"},"Sezione",-1),Fa={class:"overflow-auto box-border bg-black bg-opacity-20 rounded-xl shadow-md p-2 max-h-72 mt-2"},Sa={class:"overflow-auto w-full"},Pa=(0,t._)("tr",{class:"bg-black bg-opacity-20 p-2 rounded-xl shadow-md"},[(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Inserita"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[70%]"},"Testo"),(0,t._)("th",{class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Impatto"),(0,t._)("th",{class:"border-x-2 border-spacing-2 border-green-800 p-2 w-[10%]"},"Peso")],-1),Qa={class:"border-l-2 border-spacing-2 border-green-800 p-2 w-[10%]"},Ra=["onClick"],Ea=["onClick"],La={key:1,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},Oa={class:"border-l-2 border-spacing-2 border-green-800 p-2"},Za={class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center"},Ua={key:0,class:"fa-solid fa-plus"},Va={key:1,class:"fa-solid fa-minus"},ja={class:"border-x-2 border-spacing-2 border-green-800 p-2 text-center"},Ta=["onUpdate:modelValue"],Na={key:2,class:"flex flex-col gap-2"},Ma={class:"p-2 bg-black bg-opacity-20 rounded-xl shadow-md"},Ha=(0,t._)("label",{class:"block font-bold mb-2 bg-opacity-20 rounded-xl shadow-md",for:"commento"},"Descrizione",-1),Ka=(0,t._)("input",{class:"border-green-800 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1",type:"submit",value:"Modifica"},null,-1),Ya={key:3,class:"bg-site-error bg-opacity-60 border border-site-error text-xs p-3 rounded-xl"},Wa={key:0},Ga={key:4,class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},$a={key:0},Ba={class:"flex justify-between"};function Ja(e,o,i,a,s,n){return(0,t.wg)(),(0,t.iD)("div",pa,[0==s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("h1",ga,"Questionari presenti")):(0,t.kq)("",!0),0!=s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("h1",ua,"Modifica questionario")):(0,t.kq)("",!0),(0,t._)("form",{class:"w-full",onSubmit:o[5]||(o[5]=(0,r.iM)((e=>n.submitForm()),["prevent"]))},[0==s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("fieldset",ma,[(0,t._)("table",ba,[ha,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.questionari,(e=>((0,t.wg)(),(0,t.iD)("tr",wa,[(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>n.modificaQuestionario(e)},(0,fe.zw)(e.codQuestionario),9,fa),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2",onClick:o=>n.modificaQuestionario(e)},(0,fe.zw)(e.titolo),9,ya),(0,t._)("td",{class:"border-l-2 border-spacing-2 border-green-800 p-2 text-center",onClick:o=>n.eliminaQuestionaio(e)},ka,8,xa)])))),256))])])):(0,t.kq)("",!0),1==s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("fieldset",Da,[_a,(0,t.wy)((0,t._)("input",{class:"bg-green-900 px-2 mb-3 mx-1 py-1 ring-1 ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",type:"titolo",id:"titolo",name:"titolo","onUpdate:modelValue":o[0]||(o[0]=e=>s.titolo=e)},null,512),[[r.nr,s.titolo]]),(0,t._)("div",za,[(0,t._)("div",Ca,[Ia,(0,t.wy)((0,t._)("select",{onChange:o[1]||(o[1]=e=>n.disponiDomande()),class:"bg-green-900 p-1 mt-1 rounded-md ring-1 ring-inset ring-green-700",id:"CategoriaAttuale",name:"CategoriaAttuale","onUpdate:modelValue":o[2]||(o[2]=e=>s.categoriaCorrente=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.categorie,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e.nomeCategoria),1)))),256))],544),[[r.bM,s.categoriaCorrente]])]),(0,t._)("div",Aa,[qa,(0,t.wy)((0,t._)("select",{class:"bg-green-900 p-1 mt-1 rounded-md ring-1 ring-inset ring-green-700",id:"SezioneAttuale",name:"SezioneAttuale","onUpdate:modelValue":o[3]||(o[3]=e=>s.sezioneCorrente=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.sezioni,(e=>((0,t.wg)(),(0,t.iD)("option",null,(0,fe.zw)(e.nome),1)))),256))],512),[[r.bM,s.sezioneCorrente]])])]),(0,t._)("div",Fa,[(0,t._)("table",Sa,[Pa,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.domandeVisibili,(e=>((0,t.wg)(),(0,t.iD)("tr",{key:e.codDomanda},[(0,t._)("td",Qa,[(0,t._)("span",{onClick:o=>e.inserire=!e.inserire},[e.inserire?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",{key:0,onClick:o=>n.modificaDomandeQuestionario(e),class:"bg-site-secondary bg-opacity-60 border border-site-secondary text-xs p-3 rounded-xl"},"Aggiungi",8,Ea)),e.inserire?((0,t.wg)(),(0,t.iD)("p",La,"Rimuovi")):(0,t.kq)("",!0)],8,Ra)]),(0,t._)("td",Oa,(0,fe.zw)(e.testo),1),(0,t._)("td",Za,[1==e.positiva?((0,t.wg)(),(0,t.iD)("i",Ua)):(0,t.kq)("",!0),0==e.positiva?((0,t.wg)(),(0,t.iD)("i",Va)):(0,t.kq)("",!0)]),(0,t._)("td",ja,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":o=>e.peso=o,type:"number",value:"1",min:"0",max:"10",class:"bg-green-900 p-1 rounded-md ring-1 ring-inset ring-green-700"},null,8,Ta),[[r.nr,e.peso]])])])))),128))])])])):(0,t.kq)("",!0),2==s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("fieldset",Na,[(0,t._)("div",Ma,[Ha,(0,t.wy)((0,t._)("textarea",{class:"bg-green-900 px-2 py-1 ring-1 w-full h-32 text-start ring-inset ring-green-700 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-md",id:"commento",name:"commento",maxlength:"1024","onUpdate:modelValue":o[4]||(o[4]=e=>s.commento=e)},null,512),[[r.nr,s.commento]])]),Ka])):(0,t.kq)("",!0),s.erroreForm?((0,t.wg)(),(0,t.iD)("div",Ya,[s.erroreForm?((0,t.wg)(),(0,t.iD)("p",Wa,(0,fe.zw)(s.erroreForm),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),s.risultato?((0,t.wg)(),(0,t.iD)("div",Ga,[s.risultato?((0,t.wg)(),(0,t.iD)("p",$a,(0,fe.zw)(s.risultato),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],32),(0,t._)("div",Ba,[0!=s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:o[6]||(o[6]=(...e)=>n.tornaIndietro&&n.tornaIndietro(...e)),class:"border-green-800 mt-3 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1"},"Precedente")):(0,t.kq)("",!0),1==s.PaginaCorrente?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:o[7]||(o[7]=(...e)=>n.avanti&&n.avanti(...e)),class:"border-green-800 mt-3 border rounded-xl p-2 hover:bg-green-700 cursor-pointer bg-site-primary my-1"},"Successivo")):(0,t.kq)("",!0)])])}var Xa={props:["id"],data(){return{PaginaCorrente:0,questionari:[],domandeQuestionario:[],domandeVisibili:[],categorie:[],sezioni:[],sezioneCorrente:[],categoriaCorrente:"",numeroDomanda:0,cod:"",titolo:"",commento:"",numeriDomandaAssoc:[],pesiAssoc:[],codiciDomandaAssoc:[],sezioniDomandaAssoc:[],erroreForm:"",risultato:""}},mounted(){this.mostraQuestionari()},methods:{mostraQuestionari(){E.Z.get("http://localhost/www/api/api-admin-get-surveys-alterables.php").then((e=>{this.questionari=e.data})).catch((e=>{console.error(e)}))},mostraDomandeQuestionario(){const e=new FormData;e.append("codQuestionario",this.cod),E.Z.post("http://localhost/www/api/api-admin-get-questions-survey.php",e).then((e=>{this.domandeQuestionario=e.data,this.calcolaPrimoNumeroDomanda()})).catch((e=>{console.error(e)}))},mostraCategorie(){E.Z.get("http://localhost/www/api/api-admin-get-category.php").then((e=>{this.categorie=e.data})).catch((e=>{console.error(e)}))},mostraSezioni(){const e=new FormData;e.append("codQuestionario",this.cod),E.Z.post("http://localhost/www/api/api-admin-get-sections.php",e).then((e=>{this.sezioni=e.data,this.sezioneCorrente=this.sezioni[0]["nome"]})).catch((e=>{console.error(e)}))},submitForm(){if(this.risultato="",this.erroreForm="",this.controlloModifiche()){this.sistemaArrayAssociativo();const e=new FormData;e.append("codModeratore",this.id),e.append("commento",this.commento),e.append("titolo",this.titolo),e.append("codQuestionario",this.cod),e.append("numeroDomanda",this.numeriDomandaAssoc),e.append("peso",this.pesiAssoc),e.append("codDomanda",this.codiciDomandaAssoc),e.append("sezione",this.sezioniDomandaAssoc),E.Z.post("http://localhost/www/api/api-admin-alter-survey.php",e).then((e=>{""==e.data.error?this.risultato="Questionario modificato":this.erroreForm=e.data.error})).catch((e=>{console.error(e)}))}},eliminaQuestionaio(e){const o=new FormData;o.append("codQuestionario",e.codQuestionario),E.Z.post("http://localhost/www/api/api-admin-remove-survey.php",o).catch((e=>{console.error(e)})).then((()=>{this.questionari=[],this.mostraQuestionari()}))},disponiDomande(){this.domandeVisibili=[],this.domandeQuestionario.forEach((e=>{e.CATEGORIE_idCATEGORIA==this.categoriaCorrente&&this.domandeVisibili.push(e)}))},modificaQuestionario(e){this.PaginaCorrente=1,this.titolo=e.titolo,this.cod=e.codQuestionario,this.mostraDomandeQuestionario(),this.mostraSezioni(),this.mostraCategorie()},tornaIndietro(){this.erroreForm="",this.risultato="",this.PaginaCorrente--,0==this.PaginaCorrente&&(this.domandeQuestionario=[])},avanti(){this.controlloModifiche()&&this.PaginaCorrente++},calcolaPrimoNumeroDomanda(){this.domandeQuestionario.forEach((e=>{e.numero>this.numeroDomanda&&(this.numeroDomanda=e.numero)})),0!=this.numeroDomanda&&this.numeroDomanda++},modificaDomandeQuestionario(e){e.sezione=this.sezioneCorrente,e.numero=this.numeroDomanda,this.numeroDomanda++},controlloModifiche(){this.erroreForm="";let e=0,o=0;return this.domandeQuestionario.forEach((i=>{i.inserire&&(e++,i.peso<=0&&o++)})),""==this.titolo?(this.erroreForm="inserire un titolo valido",!1):0==e?(this.erroreForm="inserire almeno una domanda",!1):0!=o?(this.erroreForm="inserire il peso in tutte le domande",!1):2!=this.PaginaCorrente||""!=this.commento||(this.erroreForm="inserire un commento",!1)},sistemaArrayAssociativo(){let e=[],o=[],i=[],r=[];this.domandeQuestionario.forEach((t=>{t.inserire&&(e.push(t.numero),o.push(t.peso),i.push(t.codDomanda),r.push(t.sezione))})),this.numeriDomandaAssoc=e,this.pesiAssoc=o,this.codiciDomandaAssoc=i,this.sezioniDomandaAssoc=r}}};const es=(0,h.Z)(Xa,[["render",Ja]]);var os=es,is={props:["userid"],components:{AddSurvey:ca,ModifySurveys:os},data(){return{azioni:["Aggiungi","Modifica"],azioneCorrente:"Aggiungi"}},methods:{SelezionaAzione(e){this.azioneCorrente=e}}};const rs=(0,h.Z)(is,[["render",It]]);var ts=rs;const as=(0,t._)("p",null,"ciao bello!!",-1);function ss(e,o,i,r,a,s){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("button",{onClick:o[0]||(o[0]=(...e)=>s.restoreSession&&s.restoreSession(...e)),class:"border-green-700 bg-blue-700 shadow-md border rounded-xl p-2 mt-2 hover:bg-green-800 cursor-pointer w-full"},"restore"),(0,t._)("div",null,[(0,t._)("p",null,"SESSION: "+(0,fe.zw)(a.session),1)]),as],64)}var ns={data(){return{session:""}},methods:{restoreSession(){E.Z.get("http://localhost/www/session.php").then((e=>{this.session=e.data})).catch((e=>{console.error(e)}))}}};const ds=(0,h.Z)(ns,[["render",ss]]);var ls=ds;const cs=[{path:"/",name:"home",component:we},{path:"/login",name:"Login",component:Ae},{path:"/sign-in",name:"SignIn",component:lo},{path:"/user/:userid",name:"LoggedIn",component:vo,props:!0},{path:"/questionario/:userid",name:"QuestionarioObbligatorio",component:No,props:!0},{path:"/questionari/:userid",name:"Questionari",component:oi,props:!0},{path:"/admin/:userid",name:"AdminLogged",component:vi,props:!0},{path:"/admin/:userid/aggiungi",name:"AdminOperations",component:Vi,props:!0},{path:"/admin/:userid/domande",name:"AdminQuestions",component:vt,props:!0},{path:"/admin/:userid/questionari",name:"AdminSurveys",component:ts,props:!0},{path:"/prove",name:"Prove",component:ls},{path:"/:catchAll()",name:"notFound",component:wo}],ps=(0,n.p7)({history:(0,n.PO)("/"),routes:cs});var gs=ps;(0,r.ri)(pe).use(gs).mount("#app")}},o={};function i(r){var t=o[r];if(void 0!==t)return t.exports;var a=o[r]={exports:{}};return e[r].call(a.exports,a,a.exports,i),a.exports}i.m=e,function(){var e=[];i.O=function(o,r,t,a){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],t=e[c][1],a=e[c][2];for(var n=!0,d=0;d<r.length;d++)(!1&a||s>=a)&&Object.keys(i.O).every((function(e){return i.O[e](r[d])}))?r.splice(d--,1):(n=!1,a<s&&(s=a));if(n){e.splice(c--,1);var l=t();void 0!==l&&(o=l)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,t,a]}}(),function(){i.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(o,{a:o}),o}}(),function(){i.d=function(e,o){for(var r in o)i.o(o,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(o){return 0===e[o]};var o=function(o,r){var t,a,s=r[0],n=r[1],d=r[2],l=0;if(s.some((function(o){return 0!==e[o]}))){for(t in n)i.o(n,t)&&(i.m[t]=n[t]);if(d)var c=d(i)}for(o&&o(r);l<s.length;l++)a=s[l],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(c)},r=self["webpackChunkecogroup"]=self["webpackChunkecogroup"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(2318)}));r=i.O(r)})();
//# sourceMappingURL=app.6da8e883.js.map